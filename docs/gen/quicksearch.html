<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes APICallMpost Global rejectValidation Global Methods rejectValidation() Rejects the request. Returns: error - Returns a Promise with the details for the wrong request. Type Promise × Search results Close Documentation generated by JSDoc 3.6.10 on July 20th 2022, 4:48:34 pm using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes APICallMpost Global rejectValidation Classes Classes APICall Mpost × Search results Close Documentation generated by JSDoc 3.6.10 on July 20th 2022, 4:48:34 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes APICallMpost Global rejectValidation Mpost JavaScript SDK This SDK aims to help the development of integrations with Mpost that use JavaScript, providing an easy interface to communicate with Mpost's REST API. Requirements To use this SDK, you will need: Node.js v6.3.0 or above Node installation will include NPM, which is responsible for dependency management. Installation Node.js npm install @mpost/mpost-js-sdk import Mpost from '@mpost/mpost-js-sdk'; Usage This SDK relies heavily on Promises, making it easier to handle the asynchronous requests made to the API. The SDK provides a Mpost object containing several methods which map to the calls and parameters described in Mpost's API documentation. The following snippet is a generic example of how to use the SDK. If you need details for a specific module, refer to the samples folder. Before executing any request, you need to authorize the calls to the API: Using a permanent token const mpost = new Mpost({ baseURL: \"https//portal.mpost.com/api/\", permanentToken: \"&lt;token&gt;\", }); Using OAuth2 Call the constructor with your configuration const mpost = new Mpost({ baseURL: \"https://portal.mpost.com/api/\", clientId: \"&lt;your OAuth2 client id&gt;\", clientSecret: \"&lt;your OAuth2 client secret&gt;\", redirectUri: \"&lt;url where user will be redirected after authenticating&gt;\" }); Create an authorization URL, login and get one-time authorization code const authorizationURL = mpost.makeAuthorizationURL(); Exchange code for an access token mpost.getToken(code); If you already have an access token, you can also initialize Bynder with the token directly: const mpost = new Mpost({ baseURL: \"http://api-url.mpost.io/api/\", clientId: \"&lt;your OAuth2 client id&gt;\", clientSecret: \"&lt;your OAuth2 client secret&gt;\", redirectUri: \"&lt;url where user will be redirected after authenticating&gt;\", token: \"&lt;OAuth2 access token&gt;\" }); Making requests You can now use the various methods from the SDK to create delivery requests, fetch delivery requests and other data. Following the Promises notation, you should use .then()/.catch() to handle the successful and failed requests, respectively. Most of the calls take an object as the only parameter but please refer to the API documentation to tune the query as intended. Get Delivery Requests mpost .getDeliveryRequests({ limit: 20, page: 1 }) .then(data =&gt; { // TODO Handle data }) .catch(error =&gt; { // TODO Handle the error }); Craete Delivery Request mpost .createDeliveryRequest({ pickup_address: { latitude: 37.785834, longitude: -122.406417, address: \"Globe Round About\", detailed_address: \"Sunrays House, Near Globe Cinema Roundabout, Nairobi City\" }, delivery_address: { latitude: 40.659569, longitude: -73.933783, address: \"Globe Round About\", detailed_address: \"Sunrays House, Near Globe Cinema Roundabout, Nairobi City\" }, recipient_name: \"Elias Baya\", recipient_mobile: \"0712345678\", item_type: \"Test\", pickup_time: \"2022-02-02 11:11:00\" }) .then(data =&gt; { // TODO Handle data }) .catch(error =&gt; { // TODO Handle the error }); Calculate Distance and Delivery Cost mpost .calculateDistance({ pickup_address: { latitude: -0.9534506, longitude: 37.0820681 }, delivery_address: { latitude: -1.046594, longitude: 37.060197 } }) .then(data =&gt; { // TODO Handle data }) .catch(error =&gt; { // TODO Handle the error }); Available methods Authentication makeAuthorizationURL() getToken() Delivery getDeliveryRequests(queryObject) createDeliveryRequest(queryObject) calculateDistance(queryObject) Contribute to the SDK If you wish to contribute to this repository and further extend the API coverage in the SDK, here are the steps necessary to prepare your environment: Clone the repository In the root folder, run yarn install to install all of the dependencies. Create a secret.json file with the following structure: { \"baseURL\": \"http://api-url.bynder.io/api/\", \"clientId\": \"&lt;your OAuth2 client id&gt;\", \"clientSecret\": \"&lt;your OAuth2 client secret&gt;\", \"redirectUri\": \"&lt;url where user will be redirected after authenticating&gt;\" } The following gulp tasks are available: gulp lint - Run ESlint and check the code. gulp build - Run webpack to bundle the code in order to run in a browser. gulp babel - Run Babel to create a folder 'dist' with ES2015 compatible code. gulp doc - Run JSDoc to create a 'doc' folder with automatically generated documentation for the source code. gulp webserver - Deploy a web server from the root folder at localhost:8080 to run the html samples (in order to avoid CORS problems). × Search results Close Documentation generated by JSDoc 3.6.10 on July 20th 2022, 4:48:34 pm using the DocStrap template. "},"APICall.html":{"id":"APICall.html","title":"Class: APICall","body":" Documentation Classes APICallMpost Global rejectValidation Class: APICall APICall Represents an API call. &lt;abstract&gt; new APICall(baseURL, httpsAgent, httpAgent, token [, data]) Create a APICall. Parameters: Name Type Argument Default Description baseURL string A string with the base URL for account. httpsAgent string A https agent. httpAgent string A http agent. token string Optional OAuth2 access token data Object &lt;optional&gt; {} An object containing the query parameters. Methods &lt;async&gt; send() Fetch the information from the API. Returns: Returns a Promise that, when fulfilled, will either return an JSON Object with the requested data or an Error with the problem. Type Promise × Search results Close Documentation generated by JSDoc 3.6.10 on July 20th 2022, 4:48:35 pm using the DocStrap template. "},"Mpost.html":{"id":"Mpost.html","title":"Class: Mpost","body":" Documentation Classes APICallMpost Global rejectValidation Class: Mpost Mpost Represents the Mpost SDK. It allows the user to make every call to the API with a single function. new Mpost(options) Create Mpost SDK. Parameters: Name Type Description options.baseURL String The URL with the account domain. options.httpsAgent String The https agent. options.httpAgent String The http agent. options.clientId String OAuth2 client id options.clientSecret String OAuth2 client secret options Object An object containing the consumer keys, access keys and the base URL. Methods calculateDistance() Get Distance and Delivery Cost Returns: Type Promise createDeliveryRequest() Create new Delivery Request Returns: Type Promise getDeliveryRequests() Get a list of delivary requests Returns: Type Promise getToken(code) Gets OAuth2 access token from authorization code Parameters: Name Type Description code String One time authorization code Returns: access token Type String makeAuthorizationURL() Builds OAuth2 authorization URL. Returns: Authorization URL Type String userLogin(params) Login to retrieve OAuth credentials. Parameters: Name Type Default Description params Object {} An object containing the credentials with which the user intends to login. Properties Name Type Description username String The username of the user. password String The password of the user. consumerId String The consumerId of the user. Returns: Credentials - Returns a Promise that, when fulfilled, will either return an Object with the OAuth credentials for login or an Error with the problem. Type Promise × Search results Close Documentation generated by JSDoc 3.6.10 on July 20th 2022, 4:48:35 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
